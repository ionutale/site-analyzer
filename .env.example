# SvelteKit / Worker environment (dev)

# MongoDB connection
MONGODB_URI=mongodb://local-user:1234567890@localhost:27017/sv-app?authSource=sv-app
MONGODB_DB=sv-app

# Playwright / worker runtime
PLAYWRIGHT_HEADLESS=true
WORKER_CONCURRENCY=3
WORKER_MAX_ATTEMPTS=3
# How long before an in_progress lease is considered stale (ms)
LEASE_TIMEOUT_MS=900000

# Optional: capture screenshots to static/screenshots
# Set to "true" to enable; files will be placed under static/screenshots or SCREENSHOTS_DIR
PLAYWRIGHT_SCREENSHOTS=false
# Optional: override screenshots directory (absolute or relative to cwd)
# SCREENSHOTS_DIR=static/screenshots

# Optional: protect dev-only endpoints with a token
# When set, clients must include header: x-dev-token: $DEV_API_TOKEN
# DEV_API_TOKEN=change-me

# Optional: server-side rate limiting (token bucket per IP)
# Disabled unless both WINDOW and TOKENS are provided
# RATE_LIMIT_WINDOW_MS=60000   # refill window in ms
# RATE_LIMIT_TOKENS=60         # tokens per window
# RATE_LIMIT_BURST=100         # optional extra burst capacity
